<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JN Physiotherapy &amp; Rehabilitation Clinic</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&amp;family=Source+Sans+3:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
    }
    
    * {
      scrollbar-width: thin;
      scrollbar-color: #0d9488 #e5e7eb;
    }
    
    .font-heading {
      font-family: 'Playfair Display', serif;
    }
    
    .font-body {
      font-family: 'Source Sans 3', sans-serif;
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    .service-card {
      transition: transform 0.4s ease, box-shadow 0.3s ease;
    }
    
    .service-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 40px rgba(13, 148, 136, 0.15);
    }
    
    .floating-btn {
      animation: pulse-glow 2s ease-in-out infinite;
    }
    
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 4px 20px rgba(13, 148, 136, 0.4); }
      50% { box-shadow: 0 4px 30px rgba(13, 148, 136, 0.6); }
    }
    
    .hero-gradient {
      background: linear-gradient(135deg, #0f766e 0%, #0d9488 50%, #14b8a6 100%);
    }
    
    .stat-card {
      backdrop-filter: blur(10px);
      background: rgba(255, 255, 255, 0.15);
    }
    
    .review-card {
      transition: transform 0.3s ease;
    }
    
    .review-card:hover {
      transform: scale(1.02);
    }
    
    .star-btn {
      transition: transform 0.2s ease, color 0.2s ease;
    }
    
    .star-btn:hover {
      transform: scale(1.2);
    }
    
    .fade-in {
      animation: fadeIn 0.5s ease-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .services-container {
      position: relative;
    }
    
    .service-stack-card {
      position: sticky;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .service-stack-card:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 20px 40px rgba(13, 148, 136, 0.2);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full font-body bg-slate-50 text-slate-800">
  <div id="app-container" class="w-full h-full overflow-auto"><!-- Floating Book Appointment Button --> <a href="tel:+919940659899" id="floating-call-btn" class="floating-btn fixed top-4 right-4 z-50 flex items-center gap-2 px-5 py-3 rounded-full text-white font-bold text-sm shadow-lg" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
    </svg><span>Book Appointment</span> </a> <!-- Hero Section -->
   <section class="hero-gradient min-h-screen flex flex-col justify-center px-6 py-20 relative overflow-hidden"><!-- Decorative Elements -->
    <div class="absolute top-10 left-10 w-32 h-32 rounded-full bg-white opacity-5"></div>
    <div class="absolute bottom-20 right-10 w-48 h-48 rounded-full bg-white opacity-5"></div>
    <div class="absolute top-1/2 left-0 w-24 h-24 rounded-full bg-teal-300 opacity-10"></div>
    <div class="max-w-lg mx-auto text-center relative z-10"><!-- Clinic Logo/Icon -->
     <div class="mb-6 flex justify-center">
      <div class="w-20 h-20 rounded-2xl bg-white/20 backdrop-blur flex items-center justify-center">
       <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 text-white" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /> <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 0v4m0-4h4m-4 0H8" />
       </svg>
      </div>
     </div>
     <h1 id="hero-clinic-name" class="font-heading text-3xl sm:text-4xl md:text-5xl text-white font-bold leading-tight mb-4">JN Physiotherapy And Rehabilitation Clinic</h1>
     <p id="hero-tagline" class="text-teal-100 text-lg sm:text-xl mb-8 font-medium">Expert Care for Your Recovery Journey</p><!-- Stats -->
     <div class="flex justify-center gap-4 mb-10">
      <div class="stat-card px-5 py-4 rounded-2xl text-center">
       <div class="text-3xl font-bold text-white">
        4+
       </div>
       <div class="text-teal-100 text-sm">
        Years Experience
       </div>
      </div>
      <div class="stat-card px-5 py-4 rounded-2xl text-center">
       <div class="text-3xl font-bold text-white">
        4000+
       </div>
       <div class="text-teal-100 text-sm">
        Patients Treated
       </div>
      </div>
     </div><!-- CTA Buttons -->
     <div class="flex flex-col sm:flex-row gap-4 justify-center"><a href="tel:+919940659899" class="inline-flex items-center justify-center gap-2 px-8 py-4 rounded-full font-semibold text-teal-700 transition-all hover:shadow-lg" style="background-color: #ffffff;">
       <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
       </svg> Contact Us </a> <a href="#reviews" class="inline-flex items-center justify-center gap-2 px-8 py-4 rounded-full bg-white/20 text-white font-semibold transition-all hover:bg-white/30 backdrop-blur">
       <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
       </svg> Read Reviews </a>
     </div>
    </div><!-- Scroll Indicator -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2">
     <div class="w-6 h-10 rounded-full border-2 border-white/40 flex justify-center pt-2">
      <div class="w-1.5 h-3 bg-white/60 rounded-full animate-bounce"></div>
     </div>
    </div>
   </section><!-- About Section -->
   <section class="py-16 px-6" style="background-color: #ffffff;">
    <div class="max-w-lg mx-auto">
     <div class="text-center mb-10"><span class="inline-block px-4 py-1 rounded-full text-sm font-medium mb-4" style="background-color: #ccfbf1; color: #0f766e;">About Us</span>
      <h2 class="font-heading text-3xl font-bold" style="color: #0f766e;">Meet Your Physiotherapist</h2>
     </div><!-- Doctor Card -->
     <div class="rounded-3xl p-6 shadow-xl" style="background-color: #f0fdfa;">
      <div class="flex flex-col items-center text-center"><!-- Doctor Avatar -->
      <div class="w-32 h-32 rounded-full p-1 mb-4 shadow-lg"
     style="background: linear-gradient(135deg,#0f766e,#14b8a6);">
  <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRxvkxNeoR-kkAwn1wvDhXx29Uea_NLwIMEkQ&s"
       class="w-full h-full rounded-full object-cover bg-white" />
</div>
       <h3 id="doctor-name-display" class="font-heading text-2xl font-bold mb-1" style="color: #0f766e;">Dr. Kumani J</h3>
       <p id="credentials-display" class="text-sm font-medium mb-2" style="color: #14b8a6;">BPT; MPT(Ortho); MIAP; CMFRT</p><span class="inline-block px-3 py-1 rounded-full text-xs font-semibold mb-4" style="background-color: #0d9488; color: white;">Chief Physiotherapist</span>
       <p class="text-slate-600 leading-relaxed">With over 4 years of dedicated experience in physiotherapy and rehabilitation, Dr. Kumani J has helped thousands of patients recover from injuries, manage chronic pain, and improve their quality of life. Specializing in orthopedic conditions, sports injuries, and neurological rehabilitation.</p>
      </div>
     </div><!-- Key Points -->
     <div class="mt-8 grid grid-cols-2 gap-4">
      <div class="p-4 rounded-2xl text-center" style="background-color: #f0fdfa;">
       <div class="w-12 h-12 mx-auto rounded-xl flex items-center justify-center mb-2" style="background-color: #0d9488;">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-white" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
        </svg>
       </div>
       <p class="text-sm font-medium" style="color: #0f766e;">Certified Expert</p>
      </div>
      <div class="p-4 rounded-2xl text-center" style="background-color: #f0fdfa;">
       <div class="w-12 h-12 mx-auto rounded-xl flex items-center justify-center mb-2" style="background-color: #0d9488;">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-white" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
        </svg>
       </div>
       <p class="text-sm font-medium" style="color: #0f766e;">Patient-Centered</p>
      </div>
     </div>
    </div>
   </section><!-- Services Section -->
   <section class="py-16 px-6" style="background-color: #f0fdfa;">
    <div class="max-w-lg mx-auto">
     <div class="text-center mb-10 sticky top-0 z-10 pt-6 pb-4" style="background-color: #f0fdfa;"><span class="inline-block px-4 py-1 rounded-full text-sm font-medium mb-4" style="background-color: #ccfbf1; color: #0f766e;">Our Services</span>
      <h2 class="font-heading text-3xl font-bold" style="color: #0f766e;">Treatments We Offer</h2>
     </div>
     <div class="services-container space-y-4"><!-- Service 1 -->
      <div class="service-stack-card rounded-2xl p-5 shadow-md" style="background-color: #ffffff; top: 160px;">
       <div class="flex items-start gap-4">
        <div class="w-14 h-14 rounded-xl flex-shrink-0 flex items-center justify-center" style="background: linear-gradient(135deg, #0f766e, #14b8a6);">
         <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7 text-white" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
         </svg>
        </div>
        <div>
         <h3 class="font-semibold text-lg mb-1" style="color: #0f766e;">Interferential Therapy</h3>
         <p class="text-slate-600 text-sm">Advanced electrical stimulation for deep tissue pain relief and muscle rehabilitation.</p>
        </div>
       </div>
      </div><!-- Service 2 -->
      <div class="service-stack-card rounded-2xl p-5 shadow-md" style="background-color: #ffffff; top: 172px;">
       <div class="flex items-start gap-4">
        <div class="w-14 h-14 rounded-xl flex-shrink-0 flex items-center justify-center" style="background: linear-gradient(135deg, #0f766e, #14b8a6);">
         <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7 text-white" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
         </svg>
        </div>
        <div>
         <h3 class="font-semibold text-lg mb-1" style="color: #0f766e;">TENS Therapy</h3>
         <p class="text-slate-600 text-sm">Transcutaneous Electrical Nerve Stimulation for effective pain management.</p>
        </div>
       </div>
      </div><!-- Service 3 -->
      <div class="service-stack-card rounded-2xl p-5 shadow-md" style="background-color: #ffffff; top: 184px;">
       <div class="flex items-start gap-4">
        <div class="w-14 h-14 rounded-xl flex-shrink-0 flex items-center justify-center" style="background: linear-gradient(135deg, #0f766e, #14b8a6);">
         <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7 text-white" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z" /> <path stroke-linecap="round" stroke-linejoin="round" d="M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z" />
         </svg>
        </div>
        <div>
         <h3 class="font-semibold text-lg mb-1" style="color: #0f766e;">Wax Bath Therapy</h3>
         <p class="text-slate-600 text-sm">Soothing heat therapy for arthritis, joint stiffness, and improved circulation.</p>
        </div>
       </div>
      </div><!-- Service 4 -->
      <div class="service-stack-card rounded-2xl p-5 shadow-md" style="background-color: #ffffff; top: 196px;">
       <div class="flex items-start gap-4">
        <div class="w-14 h-14 rounded-xl flex-shrink-0 flex items-center justify-center" style="background: linear-gradient(135deg, #0f766e, #14b8a6);">
         <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7 text-white" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
         </svg>
        </div>
        <div>
         <h3 class="font-semibold text-lg mb-1" style="color: #0f766e;">Sports Injury Treatment</h3>
         <p class="text-slate-600 text-sm">Specialized care for athletes to recover quickly and prevent future injuries.</p>
        </div>
       </div>
      </div><!-- Service 5 -->
      <div class="service-stack-card rounded-2xl p-5 shadow-md" style="background-color: #ffffff; top: 208px;">
       <div class="flex items-start gap-4">
        <div class="w-14 h-14 rounded-xl flex-shrink-0 flex items-center justify-center" style="background: linear-gradient(135deg, #0f766e, #14b8a6);">
         <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7 text-white" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
         </svg>
        </div>
        <div>
         <h3 class="font-semibold text-lg mb-1" style="color: #0f766e;">Neurological Conditions</h3>
         <p class="text-slate-600 text-sm">Expert treatment for Parkinson's, multiple sclerosis, and nerve disorders.</p>
        </div>
       </div>
      </div><!-- Service 6 -->
      <div class="service-stack-card rounded-2xl p-5 shadow-md" style="background-color: #ffffff; top: 220px;">
       <div class="flex items-start gap-4">
        <div class="w-14 h-14 rounded-xl flex-shrink-0 flex items-center justify-center" style="background: linear-gradient(135deg, #0f766e, #14b8a6);">
         <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7 text-white" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
         </svg>
        </div>
        <div>
         <h3 class="font-semibold text-lg mb-1" style="color: #0f766e;">Stroke Rehabilitation</h3>
         <p class="text-slate-600 text-sm">Comprehensive recovery programs to restore mobility and independence.</p>
        </div>
       </div>
      </div>
     </div>
    </div>
   </section><!-- Reviews Section -->
   <section id="reviews" class="py-16 px-6" style="background-color: #ffffff;">
    <div class="max-w-lg mx-auto">
     <div class="text-center mb-10"><span class="inline-block px-4 py-1 rounded-full text-sm font-medium mb-4" style="background-color: #ccfbf1; color: #0f766e;">Testimonials</span>
      <h2 class="font-heading text-3xl font-bold" style="color: #0f766e;">Patient Reviews</h2>
     </div><!-- Write Review Form -->
     <div class="rounded-3xl p-6 mb-8 shadow-lg" style="background-color: #f0fdfa;">
      <h3 class="font-semibold text-lg mb-4" style="color: #0f766e;">Write a Review</h3>
      <form id="review-form" class="space-y-4">
       <div><label for="reviewer-name" class="block text-sm font-medium text-slate-700 mb-1">Your Name</label> <input type="text" id="reviewer-name" placeholder="Enter your name" class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent" required>
       </div>
       <div><label class="block text-sm font-medium text-slate-700 mb-2">Your Rating</label>
        <div id="star-rating" class="flex gap-2"><button type="button" class="star-btn text-3xl text-slate-300" data-rating="1">★</button> <button type="button" class="star-btn text-3xl text-slate-300" data-rating="2">★</button> <button type="button" class="star-btn text-3xl text-slate-300" data-rating="3">★</button> <button type="button" class="star-btn text-3xl text-slate-300" data-rating="4">★</button> <button type="button" class="star-btn text-3xl text-slate-300" data-rating="5">★</button>
        </div><input type="hidden" id="rating-value" value="0">
       </div>
       <div><label for="review-text" class="block text-sm font-medium text-slate-700 mb-1">Your Review</label> <textarea id="review-text" rows="3" placeholder="Share your experience..." class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-none" required></textarea>
       </div><button type="submit" id="submit-review-btn" class="w-full py-3 rounded-xl text-white font-semibold transition-all hover:opacity-90 disabled:opacity-50" style="background-color: #0d9488;"> Submit Review </button>
      </form>
     </div><!-- Reviews List -->
     <div id="reviews-list" class="space-y-4"><!-- Reviews will be populated here -->
     </div><!-- Empty State -->
     <div id="empty-reviews" class="text-center py-8 hidden">
      <div class="w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4" style="background-color: #f0fdfa;">
       <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" style="color: #0d9488;" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
       </svg>
      </div>
      <p class="text-slate-500">No reviews yet. Be the first to share your experience!</p>
     </div>
    </div>
   </section><!-- Footer/Contact Section -->
   <footer class="py-12 px-6" style="background: linear-gradient(135deg, #0f766e 0%, #0d9488 100%);">
    <div class="max-w-lg mx-auto text-center">
     <div class="w-16 h-16 mx-auto rounded-2xl bg-white/20 backdrop-blur flex items-center justify-center mb-6">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-white" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /> <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 0v4m0-4h4m-4 0H8" />
      </svg>
     </div>
     <h3 id="footer-clinic-name" class="font-heading text-2xl font-bold text-white mb-6">JN Physiotherapy And Rehabilitation Clinic</h3><!-- Contact Info Cards -->
     <div class="space-y-4 mb-8"><!-- Address -->
      <div class="bg-white/10 backdrop-blur rounded-2xl p-4">
       <div class="flex items-start gap-3 text-left">
        <div class="w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center flex-shrink-0">
         <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /> <path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
         </svg>
        </div>
        <div class="flex-1">
         <h4 class="text-white font-semibold text-sm mb-1">Address</h4>
         <p id="footer-address" class="text-teal-100 text-sm leading-relaxed">123 Health Street, Medical District, Chennai - 600001</p>
        </div>
       </div>
      </div><!-- Phone -->
      <div class="bg-white/10 backdrop-blur rounded-2xl p-4">
       <div class="flex items-start gap-3 text-left">
        <div class="w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center flex-shrink-0">
         <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
         </svg>
        </div>
        <div class="flex-1">
         <h4 class="text-white font-semibold text-sm mb-1">Phone</h4><a href="tel:+919940659899" id="footer-phone" class="text-teal-100 text-sm hover:text-white transition-colors">+91 99406 59899</a>
        </div>
       </div>
      </div><!-- Timing -->
      <div class="bg-white/10 backdrop-blur rounded-2xl p-4">
       <div class="flex items-start gap-3 text-left">
        <div class="w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center flex-shrink-0">
         <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
         </svg>
        </div>
        <div class="flex-1">
         <h4 class="text-white font-semibold text-sm mb-1">Clinic Hours</h4>
         <p id="footer-timing" class="text-teal-100 text-sm">Mon - Sat: 9:00 AM - 6:00 PM</p>
        </div>
       </div>
      </div>
     </div>
     <p class="text-teal-200 text-sm">© 2024 JN Physiotherapy. All rights reserved.</p>
    </div>
   </footer>
  </div><!-- Toast Notification -->
  <div id="toast" class="fixed bottom-4 left-4 right-4 mx-auto max-w-sm px-6 py-4 rounded-xl text-white font-medium text-center transform translate-y-20 opacity-0 transition-all duration-300 z-50" style="background-color: #0d9488;"><span id="toast-message"></span>
  </div>
  <script>
    // Default configuration
    const defaultConfig = {
      clinic_name: 'JN Physiotherapy And Rehabilitation Clinic',
      tagline: 'Expert Care for Your Recovery Journey',
      doctor_name: 'Dr. Kumani J',
      credentials: 'BPT; MPT(Ortho); MIAP; CMFRT',
      phone_number: '+91 99406 59899',
      clinic_address: '123 Health Street, Medical District, Chennai - 600001',
      clinic_timing: 'Mon - Sat: 9:00 AM - 6:00 PM',
      background_color: '#f0fdfa',
      surface_color: '#ffffff',
      text_color: '#334155',
      primary_action_color: '#0d9488',
      secondary_action_color: '#0f766e'
    };
    
    let config = { ...defaultConfig };
    let reviews = [];
    let selectedRating = 0;
    let isSubmitting = false;
    // Supabase configuration
const SUPABASE_URL = "https://hqjhnwsvgygexfxkcmdt.supabase.co";
const SUPABASE_ANON_KEY = "sb_publishable_2ok_2ecW-qK_KBsVsMIOuw_DxF9AAMK";

const supabase = window.supabase.createClient(
  SUPABASE_URL,
  SUPABASE_ANON_KEY
);

    // Initialize Element SDK
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange: async (newConfig) => {
          config = { ...defaultConfig, ...newConfig };
          updateUI();
        },
        mapToCapabilities: (cfg) => ({
          recolorables: [
            {
              get: () => cfg.background_color || defaultConfig.background_color,
              set: (value) => window.elementSdk.setConfig({ background_color: value })
            },
            {
              get: () => cfg.surface_color || defaultConfig.surface_color,
              set: (value) => window.elementSdk.setConfig({ surface_color: value })
            },
            {
              get: () => cfg.text_color || defaultConfig.text_color,
              set: (value) => window.elementSdk.setConfig({ text_color: value })
            },
            {
              get: () => cfg.primary_action_color || defaultConfig.primary_action_color,
              set: (value) => window.elementSdk.setConfig({ primary_action_color: value })
            },
            {
              get: () => cfg.secondary_action_color || defaultConfig.secondary_action_color,
              set: (value) => window.elementSdk.setConfig({ secondary_action_color: value })
            }
          ],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (cfg) => new Map([
          ['clinic_name', cfg.clinic_name || defaultConfig.clinic_name],
          ['tagline', cfg.tagline || defaultConfig.tagline],
          ['doctor_name', cfg.doctor_name || defaultConfig.doctor_name],
          ['credentials', cfg.credentials || defaultConfig.credentials],
          ['phone_number', cfg.phone_number || defaultConfig.phone_number],
          ['clinic_address', cfg.clinic_address || defaultConfig.clinic_address],
          ['clinic_timing', cfg.clinic_timing || defaultConfig.clinic_timing]
        ])
      });
    }
    
    // Initialize Data SDK
   
    // Update UI based on config
    function updateUI() {
      const heroClinicName = document.getElementById('hero-clinic-name');
      const heroTagline = document.getElementById('hero-tagline');
      const doctorNameDisplay = document.getElementById('doctor-name-display');
      const credentialsDisplay = document.getElementById('credentials-display');
      const footerClinicName = document.getElementById('footer-clinic-name');
      const footerAddress = document.getElementById('footer-address');
      const footerPhone = document.getElementById('footer-phone');
      const footerTiming = document.getElementById('footer-timing');
      const floatingCallBtn = document.getElementById('floating-call-btn');
      
      if (heroClinicName) heroClinicName.textContent = config.clinic_name;
      if (heroTagline) heroTagline.textContent = config.tagline;
      if (doctorNameDisplay) doctorNameDisplay.textContent = config.doctor_name;
      if (credentialsDisplay) credentialsDisplay.textContent = config.credentials;
      if (footerClinicName) footerClinicName.textContent = config.clinic_name;
      if (footerAddress) footerAddress.textContent = config.clinic_address || defaultConfig.clinic_address;
      if (footerTiming) footerTiming.textContent = config.clinic_timing || defaultConfig.clinic_timing;
      
      const phoneFormatted = config.phone_number.replace(/\s/g, '');
      if (footerPhone) {
        footerPhone.href = `tel:${phoneFormatted}`;
        footerPhone.textContent = config.phone_number;
      }
      if (floatingCallBtn) {
        floatingCallBtn.href = `tel:${phoneFormatted}`;
      }
      
      // Update colors
      document.querySelectorAll('[style*="background-color: #0d9488"]').forEach(el => {
        el.style.backgroundColor = config.primary_action_color;
      });
    }
    
    // Star Rating Functionality
    const starButtons = document.querySelectorAll('#star-rating .star-btn');
    starButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        selectedRating = parseInt(btn.dataset.rating);
        document.getElementById('rating-value').value = selectedRating;
        updateStars();
      });
    });
    
    function updateStars() {
      starButtons.forEach(btn => {
        const rating = parseInt(btn.dataset.rating);
        if (rating <= selectedRating) {
          btn.style.color = '#f59e0b';
        } else {
          btn.style.color = '#cbd5e1';
        }
      });
    }
    
    // Review Form Submission
    const reviewForm = document.getElementById('review-form');
    reviewForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      if (isSubmitting) return;
      
      const name = document.getElementById('reviewer-name').value.trim();
      const rating = selectedRating;
      const reviewText = document.getElementById('review-text').value.trim();
      
      if (!name || !rating || !reviewText) {
        showToast('Please fill in all fields and select a rating');
        return;
      }
      
      if (reviews.length >= 999) {
        showToast('Maximum reviews reached');
        return;
      }
      
      isSubmitting = true;
      const submitBtn = document.getElementById('submit-review-btn');
      submitBtn.disabled = true;
      submitBtn.textContent = 'Submitting...';
      
     const { error } = await supabase
  .from('reviews')
  .insert([
    {
      name: name,
      rating: rating,
      review: reviewText
    }
  ]);

if (error) {
  console.error(error);
  showToast('Failed to submit review');
} else {
  showToast('Thank you for your review!');
  reviewForm.reset();
  selectedRating = 0;
  updateStars();
  loadReviews();
}

      
      isSubmitting = false;
      submitBtn.disabled = false;
      submitBtn.textContent = 'Submit Review';
    });
    
   // Render Reviews (UI ONLY)
function renderReviews() {
  const reviewsList = document.getElementById('reviews-list');
  const emptyReviews = document.getElementById('empty-reviews');

  if (!reviews || reviews.length === 0) {
    reviewsList.innerHTML = '';
    emptyReviews.classList.remove('hidden');
    return;
  }

  emptyReviews.classList.add('hidden');
  reviewsList.innerHTML = '';

  // Sort by latest first
  const sortedReviews = [...reviews].sort(
    (a, b) => new Date(b.createdAt) - new Date(a.createdAt)
  );

  sortedReviews.forEach(review => {
    const stars = '★'.repeat(review.rating) + '☆'.repeat(5 - review.rating);

    const card = document.createElement('div');
    card.className = 'review-card rounded-2xl p-5 shadow-md bg-white';

    card.innerHTML = `
      <div class="flex items-start gap-3 mb-3">
        <div class="w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold"
             style="background: linear-gradient(135deg, #0f766e, #14b8a6);">
          ${review.name.charAt(0).toUpperCase()}
        </div>
        <div class="flex-1">
          <div class="flex items-center justify-between">
            <h4 class="font-semibold text-teal-700">${escapeHtml(review.name)}</h4>
            <span class="text-xs text-slate-400">
              ${new Date(review.createdAt).toLocaleDateString('en-IN')}
            </span>
          </div>
          <div class="text-amber-400 text-sm">${stars}</div>
        </div>
      </div>
      <p class="text-slate-600 text-sm">${escapeHtml(review.review)}</p>
    `;

    reviewsList.appendChild(card);
  });
}


// Load Reviews (SUPABASE ONLY)
async function loadReviews() {
  const { data, error } = await supabase
    .from('reviews')
    .select('*')
    .order('created_at', { ascending: false });

  if (error) {
    console.error(error);
    showToast('Failed to load reviews');
    return;
  }

  reviews = data.map(r => ({
    __backendId: r.id,
    name: r.name,
    rating: r.rating,
    review: r.review,
    createdAt: r.created_at
  }));

  renderReviews();
}
    
    // Toast Notification
    function showToast(message) {
      const toast = document.getElementById('toast');
      const toastMessage = document.getElementById('toast-message');
      toastMessage.textContent = message;
      
      toast.style.transform = 'translateY(0)';
      toast.style.opacity = '1';
      
      setTimeout(() => {
        toast.style.transform = 'translateY(20px)';
        toast.style.opacity = '0';
      }, 3000);
    }
    
    // Escape HTML for security
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }
    
    // Initial UI update
    updateUI();
   loadReviews();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9bcaf3e2a04ad9c7',t:'MTc2ODIwMzA3MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
